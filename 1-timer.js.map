{"version":3,"file":"1-timer.js","sources":["../src/img/close-circle-svgrepo-com.svg","../src/js/1-timer.js"],"sourcesContent":["export default \"data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3c!--%20Uploaded%20to:%20SVG%20Repo,%20www.svgrepo.com,%20Generator:%20SVG%20Repo%20Mixer%20Tools%20--%3e%3csvg%20fill='%23000000'%20width='800px'%20height='800px'%20viewBox='0%200%2024%2024'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M12.5,11.7928932%20L15.1464466,9.14644661%20C15.3417088,8.95118446%2015.6582912,8.95118446%2015.8535534,9.14644661%20C16.0488155,9.34170876%2016.0488155,9.65829124%2015.8535534,9.85355339%20L13.2071068,12.5%20L15.8535534,15.1464466%20C16.0488155,15.3417088%2016.0488155,15.6582912%2015.8535534,15.8535534%20C15.6582912,16.0488155%2015.3417088,16.0488155%2015.1464466,15.8535534%20L12.5,13.2071068%20L9.85355339,15.8535534%20C9.65829124,16.0488155%209.34170876,16.0488155%209.14644661,15.8535534%20C8.95118446,15.6582912%208.95118446,15.3417088%209.14644661,15.1464466%20L11.7928932,12.5%20L9.14644661,9.85355339%20C8.95118446,9.65829124%208.95118446,9.34170876%209.14644661,9.14644661%20C9.34170876,8.95118446%209.65829124,8.95118446%209.85355339,9.14644661%20L12.5,11.7928932%20L12.5,11.7928932%20Z%20M12.5,23%20C6.70101013,23%202,18.2989899%202,12.5%20C2,6.70101013%206.70101013,2%2012.5,2%20C18.2989899,2%2023,6.70101013%2023,12.5%20C23,18.2989899%2018.2989899,23%2012.5,23%20Z%20M12.5,22%20C17.7467051,22%2022,17.7467051%2022,12.5%20C22,7.25329488%2017.7467051,3%2012.5,3%20C7.25329488,3%203,7.25329488%203,12.5%20C3,17.7467051%207.25329488,22%2012.5,22%20Z'/%3e%3c/svg%3e\"","import flatpickr from \"flatpickr\";\nimport \"flatpickr/dist/flatpickr.min.css\";\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\nimport iconUrl from \"../img/close-circle-svgrepo-com.svg\";\n\nconst startBtn = document.querySelector(\"[data-start]\");\nconst dateInput = document.querySelector(\"#datetime-picker\");\nconst daysSpan = document.querySelector(\"[data-days]\");\nconst hoursSpan = document.querySelector(\"[data-hours]\")\nconst minutesSpan = document.querySelector(\"[data-minutes]\")\nconst secondsSpan = document.querySelector(\"[data-seconds]\")\nconst timerContainer = document.querySelector(\".timer\")\nconst parentDaysSpan = document.querySelector(\"[data-days]\").parentElement;\nconst parentHoursSpan = document.querySelector(\"[data-hours]\").parentElement;\nconst parentMinuteSpan = document.querySelector(\"[data-minutes]\").parentElement;\nconst parentSecondSpan = document.querySelector(\"[data-seconds]\").parentElement;\n\nlet userSelectedDate = null;\nlet timerId = null;\n\nstartBtn.disabled = true;\n\nconst options = {\n    enableTime: true,\n    time_24hr: true,\n    defaultDate: new Date(),\n    minuteIncrement: 1,\n    onClose(selectedDates) {\n        const selectedDate = selectedDates[0]\n        const now = new Date()   \n        if (selectedDate <= now) {\n            iziToast.warning({\n                iconUrl,\n                iconColor: 'black',\n                message: 'Please choose the date in the future',\n                messageColor: 'white',\n                color: '#e02828ff',\n                position: 'topRight',\n                close: false,\n            });\n            startBtn.disabled = true;\n            userSelectedDate = null;\n            return;\n        };\n        userSelectedDate = selectedDate;\n        startBtn.disabled = false;\n    },\n};\n\nflatpickr(dateInput, options);\n\nstartBtn.addEventListener(\"click\", btnClickHandler);\n\nfunction btnClickHandler() { \n    if (!userSelectedDate) { \n        return;\n    };\n    startBtn.disabled = true;\n    dateInput.disabled = true;\n\n    timerId = setInterval(() => { \n        const now = new Date();\n        const delta = userSelectedDate - now;\n        if (delta <= 0) { \n            clearInterval(timerId)\n            updateTimerDisplay(0);\n            dateInput.disabled = false;\n            return;\n        }\n        updateTimerDisplay(delta);\n    }, 1000);\n};\n\nfunction updateTimerDisplay(ms) {\n    const { days, hours, minutes, seconds } = convertMs(ms);\n\n    daysSpan.textContent = addLeadingZero(days);\n    hoursSpan.textContent = addLeadingZero(hours);\n    minutesSpan.textContent = addLeadingZero(minutes);\n    secondsSpan.textContent = addLeadingZero(seconds);\n}\n\nfunction addLeadingZero(value) {\n    return String(value).padStart(2, '0');\n}\n\nfunction convertMs(ms) {\n    const second = 1000;\n    const minute = 60 * second;\n    const hour = 60 * minute;\n    const day = 24 * hour;\n\n    const days = Math.floor(ms / day);\n    const hours = Math.floor((ms % day) / hour);\n    const minutes = Math.floor((ms % hour) / minute);\n    const seconds = Math.floor((ms % minute) / second);\n\n    return { days, hours, minutes, seconds };\n}\n\nObject.assign(dateInput.style, {\n    marginTop: `${20}px`,\n    height: `${25}px`,\n});\n\nObject.assign(startBtn.style, {\n    height: `${25}px`,\n});\n\nObject.assign(timerContainer.style, {\n    display: 'flex',\n    marginTop: `${20}px`,\n    gap: `${10}px`\n});\n  \n[parentDaysSpan, parentHoursSpan, parentMinuteSpan, parentSecondSpan].forEach(el =>  \n    Object.assign(el.style, {\n        display: 'flex',\n        flexDirection: 'column',\n        alignItems: 'center',\n        fontFamily: 'Inter, sans-serif',\n        textTransform: 'uppercase',\n        fontSize:`${10}px`\n  })\n);\n\n[daysSpan, hoursSpan, minutesSpan, secondsSpan].forEach((el) => { \n    Object.assign(el.style, {\n        fontSize: `${30}px`,\n    });\n});\n\n\n\n"],"names":["iconUrl","startBtn","dateInput","daysSpan","hoursSpan","minutesSpan","secondsSpan","timerContainer","parentDaysSpan","parentHoursSpan","parentMinuteSpan","parentSecondSpan","userSelectedDate","timerId","options","selectedDates","selectedDate","iziToast","flatpickr","btnClickHandler","delta","updateTimerDisplay","ms","days","hours","minutes","seconds","convertMs","addLeadingZero","value","el"],"mappings":"2GAAA,MAAeA,EAAA,i9CCMTC,EAAW,SAAS,cAAc,cAAc,EAChDC,EAAY,SAAS,cAAc,kBAAkB,EACrDC,EAAW,SAAS,cAAc,aAAa,EAC/CC,EAAY,SAAS,cAAc,cAAc,EACjDC,EAAc,SAAS,cAAc,gBAAgB,EACrDC,EAAc,SAAS,cAAc,gBAAgB,EACrDC,EAAiB,SAAS,cAAc,QAAQ,EAChDC,EAAiB,SAAS,cAAc,aAAa,EAAE,cACvDC,EAAkB,SAAS,cAAc,cAAc,EAAE,cACzDC,EAAmB,SAAS,cAAc,gBAAgB,EAAE,cAC5DC,EAAmB,SAAS,cAAc,gBAAgB,EAAE,cAElE,IAAIC,EAAmB,KACnBC,EAAU,KAEdZ,EAAS,SAAW,GAEpB,MAAMa,EAAU,CACZ,WAAY,GACZ,UAAW,GACX,YAAa,IAAI,KACjB,gBAAiB,EACjB,QAAQC,EAAe,CACnB,MAAMC,EAAeD,EAAc,CAAC,EAEpC,GAAIC,GADQ,IAAI,KACS,CACrBC,EAAS,QAAQ,CACb,QAAAjB,EACA,UAAW,QACX,QAAS,uCACT,aAAc,QACd,MAAO,YACP,SAAU,WACV,MAAO,EACvB,CAAa,EACDC,EAAS,SAAW,GACpBW,EAAmB,KACnB,MACZ,CACQA,EAAmBI,EACnBf,EAAS,SAAW,EACvB,CACL,EAEAiB,EAAUhB,EAAWY,CAAO,EAE5Bb,EAAS,iBAAiB,QAASkB,CAAe,EAElD,SAASA,GAAkB,CAClBP,IAGLX,EAAS,SAAW,GACpBC,EAAU,SAAW,GAErBW,EAAU,YAAY,IAAM,CAExB,MAAMO,EAAQR,EADF,IAAI,KAEhB,GAAIQ,GAAS,EAAG,CACZ,cAAcP,CAAO,EACrBQ,EAAmB,CAAC,EACpBnB,EAAU,SAAW,GACrB,MACH,CACDmB,EAAmBD,CAAK,CAC3B,EAAE,GAAI,EACX,CAEA,SAASC,EAAmBC,EAAI,CAC5B,KAAM,CAAE,KAAAC,EAAM,MAAAC,EAAO,QAAAC,EAAS,QAAAC,GAAYC,EAAUL,CAAE,EAEtDnB,EAAS,YAAcyB,EAAeL,CAAI,EAC1CnB,EAAU,YAAcwB,EAAeJ,CAAK,EAC5CnB,EAAY,YAAcuB,EAAeH,CAAO,EAChDnB,EAAY,YAAcsB,EAAeF,CAAO,CACpD,CAEA,SAASE,EAAeC,EAAO,CAC3B,OAAO,OAAOA,CAAK,EAAE,SAAS,EAAG,GAAG,CACxC,CAEA,SAASF,EAAUL,EAAI,CAMnB,MAAMC,EAAO,KAAK,MAAMD,EAAK,KAAG,EAC1BE,EAAQ,KAAK,MAAOF,EAAK,MAAO,IAAI,EACpCG,EAAU,KAAK,MAAOH,EAAK,KAAQ,GAAM,EACzCI,EAAU,KAAK,MAAOJ,EAAK,IAAU,GAAM,EAEjD,MAAO,CAAE,KAAAC,EAAM,MAAAC,EAAO,QAAAC,EAAS,QAAAC,CAAO,CAC1C,CAEA,OAAO,OAAOxB,EAAU,MAAO,CAC3B,UAAW,OACX,OAAQ,MACZ,CAAC,EAED,OAAO,OAAOD,EAAS,MAAO,CAC1B,OAAQ,MACZ,CAAC,EAED,OAAO,OAAOM,EAAe,MAAO,CAChC,QAAS,OACT,UAAW,OACX,IAAK,MACT,CAAC,EAED,CAACC,EAAgBC,EAAiBC,EAAkBC,CAAgB,EAAE,QAAQmB,GAC1E,OAAO,OAAOA,EAAG,MAAO,CACpB,QAAS,OACT,cAAe,SACf,WAAY,SACZ,WAAY,oBACZ,cAAe,YACf,SAAS,MACjB,CAAG,CACH,EAEA,CAAC3B,EAAUC,EAAWC,EAAaC,CAAW,EAAE,QAASwB,GAAO,CAC5D,OAAO,OAAOA,EAAG,MAAO,CACpB,SAAU,MAClB,CAAK,CACL,CAAC"}